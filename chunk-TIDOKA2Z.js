import{a as A}from"./chunk-MQLL3WSE.js";import{a as E}from"./chunk-IPFK77XX.js";import"./chunk-N3K24JAS.js";import"./chunk-TWAQUCXP.js";import{m as D,n as O}from"./chunk-IG6CRRGH.js";import{$ as u,Gb as t,Hb as s,Ib as y,Ob as b,Pa as l,Ub as p,Wb as c,Y as x,_a as h,eb as f,kb as v,mb as g,nb as S,ob as e,pb as i,qb as d,yb as _}from"./chunk-63XWG6HK.js";import"./chunk-CWTPBX7D.js";var P=(n,r)=>r.user._id;function T(n,r){n&1&&(e(0,"span",6),d(1,"i",23),e(2,"span",24),t(3,"Paid"),i()())}function w(n,r){n&1&&(e(0,"span",25),d(1,"i",26),e(2,"span",27),t(3,"Not Paid"),i()())}function I(n,r){n&1&&(e(0,"span"),d(1,"i",23),e(2,"span",24),t(3,"Delivered"),i()())}function F(n,r){n&1&&(e(0,"span",28),d(1,"i",29),e(2,"span",30),t(3,"In Progress"),i()())}function k(n,r){if(n&1&&(e(0,"div",5),f(1,T,4,0,"span",6)(2,w,4,0),e(3,"div",7)(4,"p",8),t(5,"order "),e(6,"span",9),t(7),i()(),f(8,I,4,0,"span")(9,F,4,0),i(),e(10,"p",10),t(11,"Total Price: "),e(12,"span",11),t(13),p(14,"currency"),i()(),e(15,"p",10),t(16,"Shipping Price: "),e(17,"span",11),t(18),p(19,"currency"),i()(),d(20,"hr",12),e(21,"div",13)(22,"div",14),d(23,"i",15),e(24,"span"),t(25),i()(),e(26,"div",16)(27,"p",17),t(28,"created at: "),i(),e(29,"div",18),d(30,"i",19),e(31,"span"),t(32),p(33,"date"),i()()(),e(34,"div",16)(35,"p",17),t(36,"expected delivery: "),i(),e(37,"div",18),d(38,"i",19),e(39,"span"),t(40),p(41,"date"),i()()(),e(42,"div",20)(43,"p",21),t(44,"payment method: "),i(),e(45,"div",18),d(46,"i",22),e(47,"span"),t(48),i()()()()()),n&2){let a=r.$implicit,o=_();l(),v(1,a.isPaid?1:a.isPaid?-1:2),l(6),y("#",a.id,""),l(),v(8,a.isDelivered?8:a.isDelivered?-1:9),l(5),s(c(14,9,a.totalOrderPrice,"GBP")),l(5),s(c(19,12,a.shippingPrice,"GBP")),l(7),s(a.shippingAddress.city),l(7),s(c(33,15,a.createdAt,"short")),l(8),s(c(41,18,o.calcDeliveryDate(a.createdAt),"short")),l(8),s(a.paymentMethodType)}}var N=(()=>{let r=class r{constructor(){this._OrdersService=x(A),this._AuthService=x(E),this.userOrders=h([]),this.deliveryDate=""}ngOnInit(){this._AuthService.saveToken(),console.log(this._AuthService.userData.id),this.getOrders()}calcDeliveryDate(o){return this.deliveryDate=new Date(o),this.deliveryDate.setDate(this.deliveryDate.getDate()+3),this.deliveryDate}getOrders(){this._OrdersService.getAllOrders(this._AuthService.userData.id).subscribe({next:o=>{this.userOrders.set(o),console.log(this.userOrders())}})}};r.\u0275fac=function(m){return new(m||r)},r.\u0275cmp=u({type:r,selectors:[["app-all-orders"]],standalone:!0,features:[b],decls:8,vars:0,consts:[[1,"my-5"],[1,"container"],[1,"font-extrabold","h2","font-sans"],[1,"orders","bg-white"],[1,""],[1,"order","border-[2px]","mt-4","p-3","rounded-md","hover:scale-[105%]","cr","transition-scale","duration-300","hover:shadow-lg","shadow-md"],[1,"bg-green-100","p-1","rounded-lg","border","border-green-400","flex","items-center","gap-1","w-[fit-content]"],[1,"flex","justify-between"],[1,"p-2","rounded-m"],[1,"text-gray-400"],[1,"text-gray-800"],[1,"font-bold"],[1,"m-3"],[1,"grid","grid-cols-12"],[1,"col-span-2","md:col-span-3","text-gray-500","flex","gap-1","items-center"],[1,"fas","fa-location"],[1,"col-span-4","md:col-span-3"],[1,"text-[10px]","text-gray-400","mb-1"],[1,"text-[12px]","text-gray-600","flex","gap-1","items-center"],[1,"fas","fa-calendar-alt"],[1,"col-span-2","nd:col-span-3"],[1,"text-[10px]","text-gray-400"],[1,"fas","fa-money-check-alt"],[1,"fas","fa-check-circle","text-green-500"],[1,"text-green-500"],[1,"py-0.5","px-1","rounded-lg","border","border-blue-400","bg-blue-100","flex","items-center","gap-2","w-[fit-content]"],[1,"fas","fa-times-circle","text-blue-500"],[1,"text-blue-500","text-[14px]"],[1,"px-1","rounded-lg","border","border-blue-400","bg-blue-100","flex","items-center","gap-2","w-[fit-content]"],[1,"fa-solid","fa-circle-half-stroke","text-blue-400"],[1,"text-blue-500","text-[12px]"]],template:function(m,C){m&1&&(e(0,"section",0)(1,"div",1)(2,"h1",2),t(3,"My Orders"),i(),e(4,"div",3)(5,"div",4),g(6,k,49,21,"div",5,P),i()()()()),m&2&&(l(6),S(C.userOrders()))},dependencies:[D,O]});let n=r;return n})();export{N as AllOrdersComponent};
