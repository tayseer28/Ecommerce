import{a as z,b as G}from"./chunk-PSLK5BU3.js";import{a as Q}from"./chunk-PLG2AT53.js";import{c as M,d as D}from"./chunk-4NDHNKT4.js";import{a as N,m as O}from"./chunk-KHZGBHNT.js";import{h as q}from"./chunk-TWAQUCXP.js";import{n as j}from"./chunk-IG6CRRGH.js";import{$ as k,Gb as c,Hb as x,Ib as A,Jb as $,La as F,Ob as V,Pa as o,Pb as g,Qb as L,Ub as _,Vb as w,Wb as T,Y as p,_a as y,eb as E,gb as S,hb as P,ja as v,ka as b,kb as I,lb as f,mb as m,nb as u,ob as t,pb as r,qb as l,tb as B,xb as C,yb as h}from"./chunk-63XWG6HK.js";import"./chunk-CWTPBX7D.js";var R=(e,n)=>n.id,U=e=>["/details",e],W=()=>[1,2,3,4,5];function H(e,n){e&1&&(t(0,"span",14),l(1,"i",22),r())}function J(e,n){e&1&&(t(0,"span",26),l(1,"i",24),r())}function K(e,n){if(e&1&&(t(0,"span",23),l(1,"i",24),t(2,"span",25),l(3,"i",22),r()(),m(4,J,2,0,"span",26,f)),e&2){let i=h().$implicit;o(2),P("width",i.ratingsAverage%1*100,"%"),o(2),u(g(2,W).slice(i.ratingsAverage+1))}}function X(e,n){e&1&&(t(0,"span",26),l(1,"i",24),r())}function Y(e,n){if(e&1&&m(0,X,2,0,"span",26,f),e&2){let i=h().$implicit;u(g(0,W).slice(i.ratingsAverage))}}function Z(e,n){if(e&1){let i=B();t(0,"div",5)(1,"div",6)(2,"a"),l(3,"img",7),r(),t(4,"div",8)(5,"a",9)(6,"h3",10),c(7),r(),t(8,"h4",11),c(9),_(10,"trimText"),r()(),t(11,"div",12)(12,"div",13),m(13,H,2,0,"span",14,f),E(15,K,6,3)(16,Y,2,1),r(),t(17,"span",15),c(18),r()()()(),t(19,"div",16)(20,"span",17),c(21),_(22,"currency"),r(),t(23,"div",18),C("click",function(){let a=v(i).$implicit,d=h();return b(d.addToCart(a.id))}),l(24,"i",19),r()(),t(25,"div",20),C("click",function(){let a=v(i).$implicit,d=h();return b(d.removeProductFromWishlist(a.id))}),l(26,"i",21),r()()}if(e&2){let i=n.$implicit;o(),S("routerLink",L(13,U,i._id)),o(2),S("src",i.imageCover,F),o(4),A(" ",i.category.name,""),o(2),x(T(10,7,i.title,2)),o(4),u(g(15,W).slice(0,i.ratingsAverage)),o(2),I(15,i.ratingsAverage%1!==0?15:16),o(3),x(i.ratingsAverage),o(3),x(T(22,10,i.price,"GBP"))}}var me=(()=>{let n=class n{constructor(){this._WishlistService=p(z),this._CartService=p(N),this._ToastrService=p(O),this._NgxSpinnerService=p(Q),this.wishlistProducts=y([]),this.quantity=y(0)}ngOnInit(){this.getWishlist()}getWishlist(){this._WishlistService.getWishlist().subscribe({next:s=>{console.log(s),this.wishlistProducts.set(s.data),this.quantity.set(this.wishlistProducts().length)}})}removeProductFromWishlist(s){this._WishlistService.removeProductFromWishlist(s).subscribe({next:a=>{console.log(a),this.getWishlist(),this._ToastrService.success("Product removed from wishlist"),this._WishlistService.wishListQuantity.set(a.data.length),this._WishlistService.loadWishlist()}})}addToCart(s){this._CartService.addToCart(s).subscribe({next:a=>{console.log(a),this._ToastrService.success("Product added to cart")}})}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=k({type:n,selectors:[["app-wishlist"]],standalone:!0,features:[V],decls:11,vars:7,consts:[["id","home",1,"my-5"],[1,"container"],[1,"text-3xl","font-bold","font-mono"],[1,"my-4","font-semibold","border","p-3","rounded-md","bg-gray-200","w-[fit-content]"],[1,"grid","gap-4","sm:grid-cols-1","md:grid-cols-3","lg:grid-cols-4"],[1,"w-full","relative","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700"],[3,"routerLink"],["alt","product",1,"rounded-t-lg",3,"src"],[1,"px-5","pb-5"],["href","#"],[1,"text-xl","font-semibold","tracking-tight","text-gray-900","dark:text-white"],[1,""],[1,"flex","items-center","mt-2.5"],[1,"flex","items-center","space-x-1","rtl:space-x-reverse"],[1,"me-0.5"],[1,"bg-blue-100","text-blue-800","text-xs","font-semibold","px-2.5","py-0.5","rounded","dark:bg-blue-200","dark:text-blue-800","ms-3"],[1,"flex","items-center","justify-between","px-5","pb-5"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"button","flex","justify-center","items-center","bg-gray-200","border","border-gray-400","rounded-md","w-[fit-content]","px-4","py-6","lg:py-5","lg:px-3","cr","hover:translate-y-2",3,"click"],[1,"fa-solid","fa-cart-plus","text-gray-400","fa-2xl","lg:fa-xl"],[1,"wishlist-icon","cr","absolute","top-4","end-4","text-red-500",3,"click"],[1,"fas","fa-heart","fa-2xl"],[1,"fas","fa-star","rating-color"],[1,"me-1","relative","inline-block"],[1,"fas","fa-star","text-gray-400"],[1,"absolute","top-0","left-0","h-full","overflow-hidden"],[1,"me-1"]],template:function(a,d){a&1&&(t(0,"section",0)(1,"div",1)(2,"h1",2),c(3),_(4,"translate"),r(),t(5,"p",3),c(6),_(7,"translate"),r(),t(8,"div",4),m(9,Z,27,16,"div",5,R),r()()()),a&2&&(o(3),x(w(4,3,"wishlist.title")),o(3),$("",w(7,5,"wishlist.items"),"(",d.quantity(),")"),o(3),u(d.wishlistProducts()))},dependencies:[q,G,j,D,M]});let e=n;return e})();export{me as WishlistComponent};
